"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-hotkeys-hook";
exports.ids = ["vendor-chunks/react-hotkeys-hook"];
exports.modules = {

/***/ "(ssr)/./node_modules/react-hotkeys-hook/dist/react-hotkeys-hook.esm.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-hotkeys-hook/dist/react-hotkeys-hook.esm.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HotkeysProvider: () => (/* binding */ HotkeysProvider),\n/* harmony export */   isHotkeyPressed: () => (/* binding */ isHotkeyPressed),\n/* harmony export */   useHotkeys: () => (/* binding */ useHotkeys),\n/* harmony export */   useHotkeysContext: () => (/* binding */ useHotkeysContext),\n/* harmony export */   useRecordHotkeys: () => (/* binding */ useRecordHotkeys)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction _extends() {\n    return _extends = Object.assign ? Object.assign.bind() : function(n) {\n        for(var e = 1; e < arguments.length; e++){\n            var t = arguments[e];\n            for(var r in t)({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n        }\n        return n;\n    }, _extends.apply(null, arguments);\n}\nvar reservedModifierKeywords = [\n    \"shift\",\n    \"alt\",\n    \"meta\",\n    \"mod\",\n    \"ctrl\"\n];\nvar mappedKeys = {\n    esc: \"escape\",\n    \"return\": \"enter\",\n    \".\": \"period\",\n    \",\": \"comma\",\n    \"-\": \"slash\",\n    \" \": \"space\",\n    \"`\": \"backquote\",\n    \"#\": \"backslash\",\n    \"+\": \"bracketright\",\n    ShiftLeft: \"shift\",\n    ShiftRight: \"shift\",\n    AltLeft: \"alt\",\n    AltRight: \"alt\",\n    MetaLeft: \"meta\",\n    MetaRight: \"meta\",\n    OSLeft: \"meta\",\n    OSRight: \"meta\",\n    ControlLeft: \"ctrl\",\n    ControlRight: \"ctrl\"\n};\nfunction mapKey(key) {\n    return (key && mappedKeys[key] || key || \"\").trim().toLowerCase().replace(/key|digit|numpad|arrow/, \"\");\n}\nfunction isHotkeyModifier(key) {\n    return reservedModifierKeywords.includes(key);\n}\nfunction parseKeysHookInput(keys, splitKey) {\n    if (splitKey === void 0) {\n        splitKey = \",\";\n    }\n    return keys.split(splitKey);\n}\nfunction parseHotkey(hotkey, combinationKey, description) {\n    if (combinationKey === void 0) {\n        combinationKey = \"+\";\n    }\n    var keys = hotkey.toLocaleLowerCase().split(combinationKey).map(function(k) {\n        return mapKey(k);\n    });\n    var modifiers = {\n        alt: keys.includes(\"alt\"),\n        ctrl: keys.includes(\"ctrl\") || keys.includes(\"control\"),\n        shift: keys.includes(\"shift\"),\n        meta: keys.includes(\"meta\"),\n        mod: keys.includes(\"mod\")\n    };\n    var singleCharKeys = keys.filter(function(k) {\n        return !reservedModifierKeywords.includes(k);\n    });\n    return _extends({}, modifiers, {\n        keys: singleCharKeys,\n        description: description,\n        hotkey: hotkey\n    });\n}\n(function() {\n    if (typeof document !== \"undefined\") {\n        document.addEventListener(\"keydown\", function(e) {\n            if (e.key === undefined) {\n                // Synthetic event (e.g., Chrome autofill).  Ignore.\n                return;\n            }\n            pushToCurrentlyPressedKeys([\n                mapKey(e.key),\n                mapKey(e.code)\n            ]);\n        });\n        document.addEventListener(\"keyup\", function(e) {\n            if (e.key === undefined) {\n                // Synthetic event (e.g., Chrome autofill).  Ignore.\n                return;\n            }\n            removeFromCurrentlyPressedKeys([\n                mapKey(e.key),\n                mapKey(e.code)\n            ]);\n        });\n    }\n    if (false) {}\n})();\nvar currentlyPressedKeys = /*#__PURE__*/ new Set();\n// https://github.com/microsoft/TypeScript/issues/17002\nfunction isReadonlyArray(value) {\n    return Array.isArray(value);\n}\nfunction isHotkeyPressed(key, splitKey) {\n    if (splitKey === void 0) {\n        splitKey = \",\";\n    }\n    var hotkeyArray = isReadonlyArray(key) ? key : key.split(splitKey);\n    return hotkeyArray.every(function(hotkey) {\n        return currentlyPressedKeys.has(hotkey.trim().toLowerCase());\n    });\n}\nfunction pushToCurrentlyPressedKeys(key) {\n    var hotkeyArray = Array.isArray(key) ? key : [\n        key\n    ];\n    /*\r\n  Due to a weird behavior on macOS we need to clear the set if the user pressed down the meta key and presses another key.\r\n  https://stackoverflow.com/questions/11818637/why-does-javascript-drop-keyup-events-when-the-metakey-is-pressed-on-mac-browser\r\n  Otherwise the set will hold all ever pressed keys while the meta key is down which leads to wrong results.\r\n   */ if (currentlyPressedKeys.has(\"meta\")) {\n        currentlyPressedKeys.forEach(function(key) {\n            return !isHotkeyModifier(key) && currentlyPressedKeys[\"delete\"](key.toLowerCase());\n        });\n    }\n    hotkeyArray.forEach(function(hotkey) {\n        return currentlyPressedKeys.add(hotkey.toLowerCase());\n    });\n}\nfunction removeFromCurrentlyPressedKeys(key) {\n    var hotkeyArray = Array.isArray(key) ? key : [\n        key\n    ];\n    /*\r\n  Due to a weird behavior on macOS we need to clear the set if the user pressed down the meta key and presses another key.\r\n  https://stackoverflow.com/questions/11818637/why-does-javascript-drop-keyup-events-when-the-metakey-is-pressed-on-mac-browser\r\n  Otherwise the set will hold all ever pressed keys while the meta key is down which leads to wrong results.\r\n   */ if (key === \"meta\") {\n        currentlyPressedKeys.clear();\n    } else {\n        hotkeyArray.forEach(function(hotkey) {\n            return currentlyPressedKeys[\"delete\"](hotkey.toLowerCase());\n        });\n    }\n}\nfunction maybePreventDefault(e, hotkey, preventDefault) {\n    if (typeof preventDefault === \"function\" && preventDefault(e, hotkey) || preventDefault === true) {\n        e.preventDefault();\n    }\n}\nfunction isHotkeyEnabled(e, hotkey, enabled) {\n    if (typeof enabled === \"function\") {\n        return enabled(e, hotkey);\n    }\n    return enabled === true || enabled === undefined;\n}\nfunction isKeyboardEventTriggeredByInput(ev) {\n    return isHotkeyEnabledOnTag(ev, [\n        \"input\",\n        \"textarea\",\n        \"select\"\n    ]);\n}\nfunction isHotkeyEnabledOnTag(event, enabledOnTags) {\n    if (enabledOnTags === void 0) {\n        enabledOnTags = false;\n    }\n    var target = event.target, composed = event.composed;\n    var targetTagName = null;\n    if (isCustomElement(target) && composed) {\n        targetTagName = event.composedPath()[0] && event.composedPath()[0].tagName;\n    } else {\n        targetTagName = target && target.tagName;\n    }\n    if (isReadonlyArray(enabledOnTags)) {\n        return Boolean(targetTagName && enabledOnTags && enabledOnTags.some(function(tag) {\n            var _targetTagName;\n            return tag.toLowerCase() === ((_targetTagName = targetTagName) == null ? void 0 : _targetTagName.toLowerCase());\n        }));\n    }\n    return Boolean(targetTagName && enabledOnTags && enabledOnTags);\n}\nfunction isCustomElement(element) {\n    // We just do a basic check w/o any complex RegEx or validation against the list of legacy names containing a hyphen,\n    // as none of them is likely to be an event target, and it won't hurt anyway if we miss.\n    // see: https://html.spec.whatwg.org/multipage/custom-elements.html#prod-potentialcustomelementname\n    return !!element.tagName && !element.tagName.startsWith(\"-\") && element.tagName.includes(\"-\");\n}\nfunction isScopeActive(activeScopes, scopes) {\n    if (activeScopes.length === 0 && scopes) {\n        console.warn('A hotkey has the \"scopes\" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>');\n        return true;\n    }\n    if (!scopes) {\n        return true;\n    }\n    return activeScopes.some(function(scope) {\n        return scopes.includes(scope);\n    }) || activeScopes.includes(\"*\");\n}\nvar isHotkeyMatchingKeyboardEvent = function isHotkeyMatchingKeyboardEvent(e, hotkey, ignoreModifiers) {\n    if (ignoreModifiers === void 0) {\n        ignoreModifiers = false;\n    }\n    var alt = hotkey.alt, meta = hotkey.meta, mod = hotkey.mod, shift = hotkey.shift, ctrl = hotkey.ctrl, keys = hotkey.keys;\n    var pressedKeyUppercase = e.key, code = e.code, ctrlKey = e.ctrlKey, metaKey = e.metaKey, shiftKey = e.shiftKey, altKey = e.altKey;\n    var keyCode = mapKey(code);\n    var pressedKey = pressedKeyUppercase.toLowerCase();\n    if (!(keys != null && keys.includes(keyCode)) && !(keys != null && keys.includes(pressedKey)) && ![\n        \"ctrl\",\n        \"control\",\n        \"unknown\",\n        \"meta\",\n        \"alt\",\n        \"shift\",\n        \"os\"\n    ].includes(keyCode)) {\n        return false;\n    }\n    if (!ignoreModifiers) {\n        // We check the pressed keys for compatibility with the keyup event. In keyup events the modifier flags are not set.\n        if (alt === !altKey && pressedKey !== \"alt\") {\n            return false;\n        }\n        if (shift === !shiftKey && pressedKey !== \"shift\") {\n            return false;\n        }\n        // Mod is a special key name that is checking for meta on macOS and ctrl on other platforms\n        if (mod) {\n            if (!metaKey && !ctrlKey) {\n                return false;\n            }\n        } else {\n            if (meta === !metaKey && pressedKey !== \"meta\" && pressedKey !== \"os\") {\n                return false;\n            }\n            if (ctrl === !ctrlKey && pressedKey !== \"ctrl\" && pressedKey !== \"control\") {\n                return false;\n            }\n        }\n    }\n    // All modifiers are correct, now check the key\n    // If the key is set, we check for the key\n    if (keys && keys.length === 1 && (keys.includes(pressedKey) || keys.includes(keyCode))) {\n        return true;\n    } else if (keys) {\n        // Check if all keys are present in pressedDownKeys set\n        return isHotkeyPressed(keys);\n    } else if (!keys) {\n        // If the key is not set, we only listen for modifiers, that check went alright, so we return true\n        return true;\n    }\n    // There is nothing that matches.\n    return false;\n};\nvar BoundHotkeysProxyProvider = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(undefined);\nvar useBoundHotkeysProxy = function useBoundHotkeysProxy() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(BoundHotkeysProxyProvider);\n};\nfunction BoundHotkeysProxyProviderProvider(_ref) {\n    var addHotkey = _ref.addHotkey, removeHotkey = _ref.removeHotkey, children = _ref.children;\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BoundHotkeysProxyProvider.Provider, {\n        value: {\n            addHotkey: addHotkey,\n            removeHotkey: removeHotkey\n        },\n        children: children\n    });\n}\nfunction deepEqual(x, y) {\n    //@ts-ignore\n    return x && y && typeof x === \"object\" && typeof y === \"object\" ? Object.keys(x).length === Object.keys(y).length && //@ts-ignore\n    Object.keys(x).reduce(function(isEqual, key) {\n        return isEqual && deepEqual(x[key], y[key]);\n    }, true) : x === y;\n}\nvar HotkeysContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({\n    hotkeys: [],\n    enabledScopes: [],\n    toggleScope: function toggleScope() {},\n    enableScope: function enableScope() {},\n    disableScope: function disableScope() {}\n});\nvar useHotkeysContext = function useHotkeysContext() {\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(HotkeysContext);\n};\nvar HotkeysProvider = function HotkeysProvider(_ref) {\n    var _ref$initiallyActiveS = _ref.initiallyActiveScopes, initiallyActiveScopes = _ref$initiallyActiveS === void 0 ? [\n        \"*\"\n    ] : _ref$initiallyActiveS, children = _ref.children;\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((initiallyActiveScopes == null ? void 0 : initiallyActiveScopes.length) > 0 ? initiallyActiveScopes : [\n        \"*\"\n    ]), internalActiveScopes = _useState[0], setInternalActiveScopes = _useState[1];\n    var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]), boundHotkeys = _useState2[0], setBoundHotkeys = _useState2[1];\n    var enableScope = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(scope) {\n        setInternalActiveScopes(function(prev) {\n            if (prev.includes(\"*\")) {\n                return [\n                    scope\n                ];\n            }\n            return Array.from(new Set([].concat(prev, [\n                scope\n            ])));\n        });\n    }, []);\n    var disableScope = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(scope) {\n        setInternalActiveScopes(function(prev) {\n            if (prev.filter(function(s) {\n                return s !== scope;\n            }).length === 0) {\n                return [\n                    \"*\"\n                ];\n            } else {\n                return prev.filter(function(s) {\n                    return s !== scope;\n                });\n            }\n        });\n    }, []);\n    var toggleScope = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(scope) {\n        setInternalActiveScopes(function(prev) {\n            if (prev.includes(scope)) {\n                if (prev.filter(function(s) {\n                    return s !== scope;\n                }).length === 0) {\n                    return [\n                        \"*\"\n                    ];\n                } else {\n                    return prev.filter(function(s) {\n                        return s !== scope;\n                    });\n                }\n            } else {\n                if (prev.includes(\"*\")) {\n                    return [\n                        scope\n                    ];\n                }\n                return Array.from(new Set([].concat(prev, [\n                    scope\n                ])));\n            }\n        });\n    }, []);\n    var addBoundHotkey = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(hotkey) {\n        setBoundHotkeys(function(prev) {\n            return [].concat(prev, [\n                hotkey\n            ]);\n        });\n    }, []);\n    var removeBoundHotkey = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(hotkey) {\n        setBoundHotkeys(function(prev) {\n            return prev.filter(function(h) {\n                return !deepEqual(h, hotkey);\n            });\n        });\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(HotkeysContext.Provider, {\n        value: {\n            enabledScopes: internalActiveScopes,\n            hotkeys: boundHotkeys,\n            enableScope: enableScope,\n            disableScope: disableScope,\n            toggleScope: toggleScope\n        },\n        children: /*#__PURE__*/ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(BoundHotkeysProxyProviderProvider, {\n            addHotkey: addBoundHotkey,\n            removeHotkey: removeBoundHotkey,\n            children: children\n        })\n    });\n};\nfunction useDeepEqualMemo(value) {\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(undefined);\n    if (!deepEqual(ref.current, value)) {\n        ref.current = value;\n    }\n    return ref.current;\n}\nvar stopPropagation = function stopPropagation(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    e.stopImmediatePropagation();\n};\nvar useSafeLayoutEffect =  false ? 0 : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction useHotkeys(keys, callback, options, dependencies) {\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null), ref = _useState[0], setRef = _useState[1];\n    var hasTriggeredRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    var _options = !(options instanceof Array) ? options : !(dependencies instanceof Array) ? dependencies : undefined;\n    var _keys = isReadonlyArray(keys) ? keys.join(_options == null ? void 0 : _options.splitKey) : keys;\n    var _deps = options instanceof Array ? options : dependencies instanceof Array ? dependencies : undefined;\n    var memoisedCB = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(callback, _deps != null ? _deps : []);\n    var cbRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(memoisedCB);\n    if (_deps) {\n        cbRef.current = memoisedCB;\n    } else {\n        cbRef.current = callback;\n    }\n    var memoisedOptions = useDeepEqualMemo(_options);\n    var _useHotkeysContext = useHotkeysContext(), enabledScopes = _useHotkeysContext.enabledScopes;\n    var proxy = useBoundHotkeysProxy();\n    useSafeLayoutEffect(function() {\n        if ((memoisedOptions == null ? void 0 : memoisedOptions.enabled) === false || !isScopeActive(enabledScopes, memoisedOptions == null ? void 0 : memoisedOptions.scopes)) {\n            return;\n        }\n        var listener = function listener(e, isKeyUp) {\n            var _e$target;\n            if (isKeyUp === void 0) {\n                isKeyUp = false;\n            }\n            if (isKeyboardEventTriggeredByInput(e) && !isHotkeyEnabledOnTag(e, memoisedOptions == null ? void 0 : memoisedOptions.enableOnFormTags)) {\n                return;\n            }\n            // TODO: SINCE THE EVENT IS NOW ATTACHED TO THE REF, THE ACTIVE ELEMENT CAN NEVER BE INSIDE THE REF. THE HOTKEY ONLY TRIGGERS IF THE\n            // REF IS THE ACTIVE ELEMENT. THIS IS A PROBLEM SINCE FOCUSED SUB COMPONENTS WON'T TRIGGER THE HOTKEY.\n            if (ref !== null) {\n                var rootNode = ref.getRootNode();\n                if ((rootNode instanceof Document || rootNode instanceof ShadowRoot) && rootNode.activeElement !== ref && !ref.contains(rootNode.activeElement)) {\n                    stopPropagation(e);\n                    return;\n                }\n            }\n            if ((_e$target = e.target) != null && _e$target.isContentEditable && !(memoisedOptions != null && memoisedOptions.enableOnContentEditable)) {\n                return;\n            }\n            parseKeysHookInput(_keys, memoisedOptions == null ? void 0 : memoisedOptions.splitKey).forEach(function(key) {\n                var _hotkey$keys;\n                var hotkey = parseHotkey(key, memoisedOptions == null ? void 0 : memoisedOptions.combinationKey);\n                if (isHotkeyMatchingKeyboardEvent(e, hotkey, memoisedOptions == null ? void 0 : memoisedOptions.ignoreModifiers) || (_hotkey$keys = hotkey.keys) != null && _hotkey$keys.includes(\"*\")) {\n                    if (memoisedOptions != null && memoisedOptions.ignoreEventWhen != null && memoisedOptions.ignoreEventWhen(e)) {\n                        return;\n                    }\n                    if (isKeyUp && hasTriggeredRef.current) {\n                        return;\n                    }\n                    maybePreventDefault(e, hotkey, memoisedOptions == null ? void 0 : memoisedOptions.preventDefault);\n                    if (!isHotkeyEnabled(e, hotkey, memoisedOptions == null ? void 0 : memoisedOptions.enabled)) {\n                        stopPropagation(e);\n                        return;\n                    }\n                    // Execute the user callback for that hotkey\n                    cbRef.current(e, hotkey);\n                    if (!isKeyUp) {\n                        hasTriggeredRef.current = true;\n                    }\n                }\n            });\n        };\n        var handleKeyDown = function handleKeyDown(event) {\n            if (event.key === undefined) {\n                // Synthetic event (e.g., Chrome autofill).  Ignore.\n                return;\n            }\n            pushToCurrentlyPressedKeys(mapKey(event.code));\n            if ((memoisedOptions == null ? void 0 : memoisedOptions.keydown) === undefined && (memoisedOptions == null ? void 0 : memoisedOptions.keyup) !== true || memoisedOptions != null && memoisedOptions.keydown) {\n                listener(event);\n            }\n        };\n        var handleKeyUp = function handleKeyUp(event) {\n            if (event.key === undefined) {\n                // Synthetic event (e.g., Chrome autofill).  Ignore.\n                return;\n            }\n            removeFromCurrentlyPressedKeys(mapKey(event.code));\n            hasTriggeredRef.current = false;\n            if (memoisedOptions != null && memoisedOptions.keyup) {\n                listener(event, true);\n            }\n        };\n        var domNode = ref || (_options == null ? void 0 : _options.document) || document;\n        // @ts-ignore\n        domNode.addEventListener(\"keyup\", handleKeyUp);\n        // @ts-ignore\n        domNode.addEventListener(\"keydown\", handleKeyDown);\n        if (proxy) {\n            parseKeysHookInput(_keys, memoisedOptions == null ? void 0 : memoisedOptions.splitKey).forEach(function(key) {\n                return proxy.addHotkey(parseHotkey(key, memoisedOptions == null ? void 0 : memoisedOptions.combinationKey, memoisedOptions == null ? void 0 : memoisedOptions.description));\n            });\n        }\n        return function() {\n            // @ts-ignore\n            domNode.removeEventListener(\"keyup\", handleKeyUp);\n            // @ts-ignore\n            domNode.removeEventListener(\"keydown\", handleKeyDown);\n            if (proxy) {\n                parseKeysHookInput(_keys, memoisedOptions == null ? void 0 : memoisedOptions.splitKey).forEach(function(key) {\n                    return proxy.removeHotkey(parseHotkey(key, memoisedOptions == null ? void 0 : memoisedOptions.combinationKey, memoisedOptions == null ? void 0 : memoisedOptions.description));\n                });\n            }\n        };\n    }, [\n        ref,\n        _keys,\n        memoisedOptions,\n        enabledScopes\n    ]);\n    return setRef;\n}\nfunction useRecordHotkeys() {\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new Set()), keys = _useState[0], setKeys = _useState[1];\n    var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false), isRecording = _useState2[0], setIsRecording = _useState2[1];\n    var handler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function(event) {\n        if (event.key === undefined) {\n            // Synthetic event (e.g., Chrome autofill).  Ignore.\n            return;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        setKeys(function(prev) {\n            var newKeys = new Set(prev);\n            newKeys.add(mapKey(event.code));\n            return newKeys;\n        });\n    }, []);\n    var stop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function() {\n        if (typeof document !== \"undefined\") {\n            document.removeEventListener(\"keydown\", handler);\n            setIsRecording(false);\n        }\n    }, [\n        handler\n    ]);\n    var start = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function() {\n        setKeys(new Set());\n        if (typeof document !== \"undefined\") {\n            stop();\n            document.addEventListener(\"keydown\", handler);\n            setIsRecording(true);\n        }\n    }, [\n        handler,\n        stop\n    ]);\n    var resetKeys = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function() {\n        setKeys(new Set());\n    }, []);\n    return [\n        keys,\n        {\n            start: start,\n            stop: stop,\n            resetKeys: resetKeys,\n            isRecording: isRecording\n        }\n    ];\n}\n //# sourceMappingURL=react-hotkeys-hook.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3QtaG90a2V5cy1ob29rL2Rpc3QvcmVhY3QtaG90a2V5cy1ob29rLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBNkc7QUFDckU7QUFFeEMsU0FBU1E7SUFDUCxPQUFPQSxXQUFXQyxPQUFPQyxNQUFNLEdBQUdELE9BQU9DLE1BQU0sQ0FBQ0MsSUFBSSxLQUFLLFNBQVVDLENBQUM7UUFDbEUsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlDLFVBQVVDLE1BQU0sRUFBRUYsSUFBSztZQUN6QyxJQUFJRyxJQUFJRixTQUFTLENBQUNELEVBQUU7WUFDcEIsSUFBSyxJQUFJSSxLQUFLRCxFQUFHLENBQUMsQ0FBQyxHQUFHRSxjQUFjLENBQUNDLElBQUksQ0FBQ0gsR0FBR0MsTUFBT0wsQ0FBQUEsQ0FBQyxDQUFDSyxFQUFFLEdBQUdELENBQUMsQ0FBQ0MsRUFBRTtRQUNqRTtRQUNBLE9BQU9MO0lBQ1QsR0FBR0osU0FBU1ksS0FBSyxDQUFDLE1BQU1OO0FBQzFCO0FBRUEsSUFBSU8sMkJBQTJCO0lBQUM7SUFBUztJQUFPO0lBQVE7SUFBTztDQUFPO0FBQ3RFLElBQUlDLGFBQWE7SUFDZkMsS0FBSztJQUNMLFVBQVU7SUFDVixLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0wsS0FBSztJQUNMLEtBQUs7SUFDTCxLQUFLO0lBQ0xDLFdBQVc7SUFDWEMsWUFBWTtJQUNaQyxTQUFTO0lBQ1RDLFVBQVU7SUFDVkMsVUFBVTtJQUNWQyxXQUFXO0lBQ1hDLFFBQVE7SUFDUkMsU0FBUztJQUNUQyxhQUFhO0lBQ2JDLGNBQWM7QUFDaEI7QUFDQSxTQUFTQyxPQUFPQyxHQUFHO0lBQ2pCLE9BQU8sQ0FBQ0EsT0FBT2IsVUFBVSxDQUFDYSxJQUFJLElBQUlBLE9BQU8sRUFBQyxFQUFHQyxJQUFJLEdBQUdDLFdBQVcsR0FBR0MsT0FBTyxDQUFDLDBCQUEwQjtBQUN0RztBQUNBLFNBQVNDLGlCQUFpQkos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LFNBQVVvRixLQUFLO1FBQ3ZDLElBQUlBLE1BQU1wRCxHQUFHLEtBQUsyQixXQUFXO1lBQzNCLG9EQUFvRDtZQUNwRDtRQUNGO1FBQ0F5QixNQUFNTixjQUFjO1FBQ3BCTSxNQUFNb0UsZUFBZTtRQUNyQnVDLFFBQVEsU0FBVWpELElBQUk7WUFDcEIsSUFBSXFELFVBQVUsSUFBSWpJLElBQUk0RTtZQUN0QnFELFFBQVF2SCxHQUFHLENBQUM3QyxPQUFPcUQsTUFBTXZCLElBQUk7WUFDN0IsT0FBT3NJO1FBQ1Q7SUFDRixHQUFHLEVBQUU7SUFDTCxJQUFJQyxPQUFPcE0sa0RBQVdBLENBQUM7UUFDckIsSUFBSSxPQUFPeUQsYUFBYSxhQUFhO1lBQ25DQSxTQUFTb0ksbUJBQW1CLENBQUMsV0FBV0s7WUFDeENELGVBQWU7UUFDakI7SUFDRixHQUFHO1FBQUNDO0tBQVE7SUFDWixJQUFJRyxRQUFRck0sa0RBQVdBLENBQUM7UUFDdEIrTCxRQUFRLElBQUk3SDtRQUNaLElBQUksT0FBT1QsYUFBYSxhQUFhO1lBQ25DMkk7WUFDQTNJLFNBQVNDLGdCQUFnQixDQUFDLFdBQVd3STtZQUNyQ0QsZUFBZTtRQUNqQjtJQUNGLEdBQUc7UUFBQ0M7UUFBU0U7S0FBSztJQUNsQixJQUFJRSxZQUFZdE0sa0RBQVdBLENBQUM7UUFDMUIrTCxRQUFRLElBQUk3SDtJQUNkLEdBQUcsRUFBRTtJQUNMLE9BQU87UUFBQzNCO1FBQU07WUFDWjhKLE9BQU9BO1lBQ1BELE1BQU1BO1lBQ05FLFdBQVdBO1lBQ1hOLGFBQWFBO1FBQ2Y7S0FBRTtBQUNKO0FBRTZGLENBQzdGLGtEQUFrRCIsInNvdXJjZXMiOlsid2VicGFjazovL3NvbGFuYS1saXF1aWRpdHktcG9vbC8uL25vZGVfbW9kdWxlcy9yZWFjdC1ob3RrZXlzLWhvb2svZGlzdC9yZWFjdC1ob3RrZXlzLWhvb2suZXNtLmpzPzFhYzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ29udGV4dCwgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZUxheW91dEVmZmVjdCwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsganN4IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgcmV0dXJuIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKG4pIHtcbiAgICBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykge1xuICAgICAgdmFyIHQgPSBhcmd1bWVudHNbZV07XG4gICAgICBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbiAgfSwgX2V4dGVuZHMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cblxudmFyIHJlc2VydmVkTW9kaWZpZXJLZXl3b3JkcyA9IFsnc2hpZnQnLCAnYWx0JywgJ21ldGEnLCAnbW9kJywgJ2N0cmwnXTtcbnZhciBtYXBwZWRLZXlzID0ge1xuICBlc2M6ICdlc2NhcGUnLFxuICBcInJldHVyblwiOiAnZW50ZXInLFxuICAnLic6ICdwZXJpb2QnLFxuICAnLCc6ICdjb21tYScsXG4gICctJzogJ3NsYXNoJyxcbiAgJyAnOiAnc3BhY2UnLFxuICAnYCc6ICdiYWNrcXVvdGUnLFxuICAnIyc6ICdiYWNrc2xhc2gnLFxuICAnKyc6ICdicmFja2V0cmlnaHQnLFxuICBTaGlmdExlZnQ6ICdzaGlmdCcsXG4gIFNoaWZ0UmlnaHQ6ICdzaGlmdCcsXG4gIEFsdExlZnQ6ICdhbHQnLFxuICBBbHRSaWdodDogJ2FsdCcsXG4gIE1ldGFMZWZ0OiAnbWV0YScsXG4gIE1ldGFSaWdodDogJ21ldGEnLFxuICBPU0xlZnQ6ICdtZXRhJyxcbiAgT1NSaWdodDogJ21ldGEnLFxuICBDb250cm9sTGVmdDogJ2N0cmwnLFxuICBDb250cm9sUmlnaHQ6ICdjdHJsJ1xufTtcbmZ1bmN0aW9uIG1hcEtleShrZXkpIHtcbiAgcmV0dXJuIChrZXkgJiYgbWFwcGVkS2V5c1trZXldIHx8IGtleSB8fCAnJykudHJpbSgpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgva2V5fGRpZ2l0fG51bXBhZHxhcnJvdy8sICcnKTtcbn1cbmZ1bmN0aW9uIGlzSG90a2V5TW9kaWZpZXIoa2V5KSB7XG4gIHJldHVybiByZXNlcnZlZE1vZGlmaWVyS2V5d29yZHMuaW5jbHVkZXMoa2V5KTtcbn1cbmZ1bmN0aW9uIHBhcnNlS2V5c0hvb2tJbnB1dChrZXlzLCBzcGxpdEtleSkge1xuICBpZiAoc3BsaXRLZXkgPT09IHZvaWQgMCkge1xuICAgIHNwbGl0S2V5ID0gJywnO1xuICB9XG4gIHJldHVybiBrZXlzLnNwbGl0KHNwbGl0S2V5KTtcbn1cbmZ1bmN0aW9uIHBhcnNlSG90a2V5KGhvdGtleSwgY29tYmluYXRpb25LZXksIGRlc2NyaXB0aW9uKSB7XG4gIGlmIChjb21iaW5hdGlvbktleSA9PT0gdm9pZCAwKSB7XG4gICAgY29tYmluYXRpb25LZXkgPSAnKyc7XG4gIH1cbiAgdmFyIGtleXMgPSBob3RrZXkudG9Mb2NhbGVMb3dlckNhc2UoKS5zcGxpdChjb21iaW5hdGlvbktleSkubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuIG1hcEtleShrKTtcbiAgfSk7XG4gIHZhciBtb2RpZmllcnMgPSB7XG4gICAgYWx0OiBrZXlzLmluY2x1ZGVzKCdhbHQnKSxcbiAgICBjdHJsOiBrZXlzLmluY2x1ZGVzKCdjdHJsJykgfHwga2V5cy5pbmNsdWRlcygnY29udHJvbCcpLFxuICAgIHNoaWZ0OiBrZXlzLmluY2x1ZGVzKCdzaGlmdCcpLFxuICAgIG1ldGE6IGtleXMuaW5jbHVkZXMoJ21ldGEnKSxcbiAgICBtb2Q6IGtleXMuaW5jbHVkZXMoJ21vZCcpXG4gIH07XG4gIHZhciBzaW5nbGVDaGFyS2V5cyA9IGtleXMuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuICFyZXNlcnZlZE1vZGlmaWVyS2V5d29yZHMuaW5jbHVkZXMoayk7XG4gIH0pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIG1vZGlmaWVycywge1xuICAgIGtleXM6IHNpbmdsZUNoYXJLZXlzLFxuICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbixcbiAgICBob3RrZXk6IGhvdGtleVxuICB9KTtcbn1cblxuKGZ1bmN0aW9uICgpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLmtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFN5bnRoZXRpYyBldmVudCAoZS5nLiwgQ2hyb21lIGF1dG9maWxsKS4gIElnbm9yZS5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHVzaFRvQ3VycmVudGx5UHJlc3NlZEtleXMoW21hcEtleShlLmtleSksIG1hcEtleShlLmNvZGUpXSk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUua2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gU3ludGhldGljIGV2ZW50IChlLmcuLCBDaHJvbWUgYXV0b2ZpbGwpLiAgSWdub3JlLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZW1vdmVGcm9tQ3VycmVudGx5UHJlc3NlZEtleXMoW21hcEtleShlLmtleSksIG1hcEtleShlLmNvZGUpXSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjdXJyZW50bHlQcmVzc2VkS2V5cy5jbGVhcigpO1xuICAgIH0pO1xuICB9XG59KSgpO1xudmFyIGN1cnJlbnRseVByZXNzZWRLZXlzID0gLyojX19QVVJFX18qL25ldyBTZXQoKTtcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMTcwMDJcbmZ1bmN0aW9uIGlzUmVhZG9ubHlBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBpc0hvdGtleVByZXNzZWQoa2V5LCBzcGxpdEtleSkge1xuICBpZiAoc3BsaXRLZXkgPT09IHZvaWQgMCkge1xuICAgIHNwbGl0S2V5ID0gJywnO1xuICB9XG4gIHZhciBob3RrZXlBcnJheSA9IGlzUmVhZG9ubHlBcnJheShrZXkpID8ga2V5IDoga2V5LnNwbGl0KHNwbGl0S2V5KTtcbiAgcmV0dXJuIGhvdGtleUFycmF5LmV2ZXJ5KGZ1bmN0aW9uIChob3RrZXkpIHtcbiAgICByZXR1cm4gY3VycmVudGx5UHJlc3NlZEtleXMuaGFzKGhvdGtleS50cmltKCkudG9Mb3dlckNhc2UoKSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gcHVzaFRvQ3VycmVudGx5UHJlc3NlZEtleXMoa2V5KSB7XG4gIHZhciBob3RrZXlBcnJheSA9IEFycmF5LmlzQXJyYXkoa2V5KSA/IGtleSA6IFtrZXldO1xuICAvKlxyXG4gIER1ZSB0byBhIHdlaXJkIGJlaGF2aW9yIG9uIG1hY09TIHdlIG5lZWQgdG8gY2xlYXIgdGhlIHNldCBpZiB0aGUgdXNlciBwcmVzc2VkIGRvd24gdGhlIG1ldGEga2V5IGFuZCBwcmVzc2VzIGFub3RoZXIga2V5LlxyXG4gIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzExODE4NjM3L3doeS1kb2VzLWphdmFzY3JpcHQtZHJvcC1rZXl1cC1ldmVudHMtd2hlbi10aGUtbWV0YWtleS1pcy1wcmVzc2VkLW9uLW1hYy1icm93c2VyXHJcbiAgT3RoZXJ3aXNlIHRoZSBzZXQgd2lsbCBob2xkIGFsbCBldmVyIHByZXNzZWQga2V5cyB3aGlsZSB0aGUgbWV0YSBrZXkgaXMgZG93biB3aGljaCBsZWFkcyB0byB3cm9uZyByZXN1bHRzLlxyXG4gICAqL1xuICBpZiAoY3VycmVudGx5UHJlc3NlZEtleXMuaGFzKCdtZXRhJykpIHtcbiAgICBjdXJyZW50bHlQcmVzc2VkS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJldHVybiAhaXNIb3RrZXlNb2RpZmllcihrZXkpICYmIGN1cnJlbnRseVByZXNzZWRLZXlzW1wiZGVsZXRlXCJdKGtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9KTtcbiAgfVxuICBob3RrZXlBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChob3RrZXkpIHtcbiAgICByZXR1cm4gY3VycmVudGx5UHJlc3NlZEtleXMuYWRkKGhvdGtleS50b0xvd2VyQ2FzZSgpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZW1vdmVGcm9tQ3VycmVudGx5UHJlc3NlZEtleXMoa2V5KSB7XG4gIHZhciBob3RrZXlBcnJheSA9IEFycmF5LmlzQXJyYXkoa2V5KSA/IGtleSA6IFtrZXldO1xuICAvKlxyXG4gIER1ZSB0byBhIHdlaXJkIGJlaGF2aW9yIG9uIG1hY09TIHdlIG5lZWQgdG8gY2xlYXIgdGhlIHNldCBpZiB0aGUgdXNlciBwcmVzc2VkIGRvd24gdGhlIG1ldGEga2V5IGFuZCBwcmVzc2VzIGFub3RoZXIga2V5LlxyXG4gIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzExODE4NjM3L3doeS1kb2VzLWphdmFzY3JpcHQtZHJvcC1rZXl1cC1ldmVudHMtd2hlbi10aGUtbWV0YWtleS1pcy1wcmVzc2VkLW9uLW1hYy1icm93c2VyXHJcbiAgT3RoZXJ3aXNlIHRoZSBzZXQgd2lsbCBob2xkIGFsbCBldmVyIHByZXNzZWQga2V5cyB3aGlsZSB0aGUgbWV0YSBrZXkgaXMgZG93biB3aGljaCBsZWFkcyB0byB3cm9uZyByZXN1bHRzLlxyXG4gICAqL1xuICBpZiAoa2V5ID09PSAnbWV0YScpIHtcbiAgICBjdXJyZW50bHlQcmVzc2VkS2V5cy5jbGVhcigpO1xuICB9IGVsc2Uge1xuICAgIGhvdGtleUFycmF5LmZvckVhY2goZnVuY3Rpb24gKGhvdGtleSkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRseVByZXNzZWRLZXlzW1wiZGVsZXRlXCJdKGhvdGtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXliZVByZXZlbnREZWZhdWx0KGUsIGhvdGtleSwgcHJldmVudERlZmF1bHQpIHtcbiAgaWYgKHR5cGVvZiBwcmV2ZW50RGVmYXVsdCA9PT0gJ2Z1bmN0aW9uJyAmJiBwcmV2ZW50RGVmYXVsdChlLCBob3RrZXkpIHx8IHByZXZlbnREZWZhdWx0ID09PSB0cnVlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG59XG5mdW5jdGlvbiBpc0hvdGtleUVuYWJsZWQoZSwgaG90a2V5LCBlbmFibGVkKSB7XG4gIGlmICh0eXBlb2YgZW5hYmxlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbmFibGVkKGUsIGhvdGtleSk7XG4gIH1cbiAgcmV0dXJuIGVuYWJsZWQgPT09IHRydWUgfHwgZW5hYmxlZCA9PT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gaXNLZXlib2FyZEV2ZW50VHJpZ2dlcmVkQnlJbnB1dChldikge1xuICByZXR1cm4gaXNIb3RrZXlFbmFibGVkT25UYWcoZXYsIFsnaW5wdXQnLCAndGV4dGFyZWEnLCAnc2VsZWN0J10pO1xufVxuZnVuY3Rpb24gaXNIb3RrZXlFbmFibGVkT25UYWcoZXZlbnQsIGVuYWJsZWRPblRhZ3MpIHtcbiAgaWYgKGVuYWJsZWRPblRhZ3MgPT09IHZvaWQgMCkge1xuICAgIGVuYWJsZWRPblRhZ3MgPSBmYWxzZTtcbiAgfVxuICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0LFxuICAgIGNvbXBvc2VkID0gZXZlbnQuY29tcG9zZWQ7XG4gIHZhciB0YXJnZXRUYWdOYW1lID0gbnVsbDtcbiAgaWYgKGlzQ3VzdG9tRWxlbWVudCh0YXJnZXQpICYmIGNvbXBvc2VkKSB7XG4gICAgdGFyZ2V0VGFnTmFtZSA9IGV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdICYmIGV2ZW50LmNvbXBvc2VkUGF0aCgpWzBdLnRhZ05hbWU7XG4gIH0gZWxzZSB7XG4gICAgdGFyZ2V0VGFnTmFtZSA9IHRhcmdldCAmJiB0YXJnZXQudGFnTmFtZTtcbiAgfVxuICBpZiAoaXNSZWFkb25seUFycmF5KGVuYWJsZWRPblRhZ3MpKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGFyZ2V0VGFnTmFtZSAmJiBlbmFibGVkT25UYWdzICYmIGVuYWJsZWRPblRhZ3Muc29tZShmdW5jdGlvbiAodGFnKSB7XG4gICAgICB2YXIgX3RhcmdldFRhZ05hbWU7XG4gICAgICByZXR1cm4gdGFnLnRvTG93ZXJDYXNlKCkgPT09ICgoX3RhcmdldFRhZ05hbWUgPSB0YXJnZXRUYWdOYW1lKSA9PSBudWxsID8gdm9pZCAwIDogX3RhcmdldFRhZ05hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgfSkpO1xuICB9XG4gIHJldHVybiBCb29sZWFuKHRhcmdldFRhZ05hbWUgJiYgZW5hYmxlZE9uVGFncyAmJiBlbmFibGVkT25UYWdzKTtcbn1cbmZ1bmN0aW9uIGlzQ3VzdG9tRWxlbWVudChlbGVtZW50KSB7XG4gIC8vIFdlIGp1c3QgZG8gYSBiYXNpYyBjaGVjayB3L28gYW55IGNvbXBsZXggUmVnRXggb3IgdmFsaWRhdGlvbiBhZ2FpbnN0IHRoZSBsaXN0IG9mIGxlZ2FjeSBuYW1lcyBjb250YWluaW5nIGEgaHlwaGVuLFxuICAvLyBhcyBub25lIG9mIHRoZW0gaXMgbGlrZWx5IHRvIGJlIGFuIGV2ZW50IHRhcmdldCwgYW5kIGl0IHdvbid0IGh1cnQgYW55d2F5IGlmIHdlIG1pc3MuXG4gIC8vIHNlZTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvY3VzdG9tLWVsZW1lbnRzLmh0bWwjcHJvZC1wb3RlbnRpYWxjdXN0b21lbGVtZW50bmFtZVxuICByZXR1cm4gISFlbGVtZW50LnRhZ05hbWUgJiYgIWVsZW1lbnQudGFnTmFtZS5zdGFydHNXaXRoKFwiLVwiKSAmJiBlbGVtZW50LnRhZ05hbWUuaW5jbHVkZXMoXCItXCIpO1xufVxuZnVuY3Rpb24gaXNTY29wZUFjdGl2ZShhY3RpdmVTY29wZXMsIHNjb3Blcykge1xuICBpZiAoYWN0aXZlU2NvcGVzLmxlbmd0aCA9PT0gMCAmJiBzY29wZXMpIHtcbiAgICBjb25zb2xlLndhcm4oJ0EgaG90a2V5IGhhcyB0aGUgXCJzY29wZXNcIiBvcHRpb24gc2V0LCBob3dldmVyIG5vIGFjdGl2ZSBzY29wZXMgd2VyZSBmb3VuZC4gSWYgeW91IHdhbnQgdG8gdXNlIHRoZSBnbG9iYWwgc2NvcGVzIGZlYXR1cmUsIHlvdSBuZWVkIHRvIHdyYXAgeW91ciBhcHAgaW4gYSA8SG90a2V5c1Byb3ZpZGVyPicpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghc2NvcGVzKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGFjdGl2ZVNjb3Blcy5zb21lKGZ1bmN0aW9uIChzY29wZSkge1xuICAgIHJldHVybiBzY29wZXMuaW5jbHVkZXMoc2NvcGUpO1xuICB9KSB8fCBhY3RpdmVTY29wZXMuaW5jbHVkZXMoJyonKTtcbn1cbnZhciBpc0hvdGtleU1hdGNoaW5nS2V5Ym9hcmRFdmVudCA9IGZ1bmN0aW9uIGlzSG90a2V5TWF0Y2hpbmdLZXlib2FyZEV2ZW50KGUsIGhvdGtleSwgaWdub3JlTW9kaWZpZXJzKSB7XG4gIGlmIChpZ25vcmVNb2RpZmllcnMgPT09IHZvaWQgMCkge1xuICAgIGlnbm9yZU1vZGlmaWVycyA9IGZhbHNlO1xuICB9XG4gIHZhciBhbHQgPSBob3RrZXkuYWx0LFxuICAgIG1ldGEgPSBob3RrZXkubWV0YSxcbiAgICBtb2QgPSBob3RrZXkubW9kLFxuICAgIHNoaWZ0ID0gaG90a2V5LnNoaWZ0LFxuICAgIGN0cmwgPSBob3RrZXkuY3RybCxcbiAgICBrZXlzID0gaG90a2V5LmtleXM7XG4gIHZhciBwcmVzc2VkS2V5VXBwZXJjYXNlID0gZS5rZXksXG4gICAgY29kZSA9IGUuY29kZSxcbiAgICBjdHJsS2V5ID0gZS5jdHJsS2V5LFxuICAgIG1ldGFLZXkgPSBlLm1ldGFLZXksXG4gICAgc2hpZnRLZXkgPSBlLnNoaWZ0S2V5LFxuICAgIGFsdEtleSA9IGUuYWx0S2V5O1xuICB2YXIga2V5Q29kZSA9IG1hcEtleShjb2RlKTtcbiAgdmFyIHByZXNzZWRLZXkgPSBwcmVzc2VkS2V5VXBwZXJjYXNlLnRvTG93ZXJDYXNlKCk7XG4gIGlmICghKGtleXMgIT0gbnVsbCAmJiBrZXlzLmluY2x1ZGVzKGtleUNvZGUpKSAmJiAhKGtleXMgIT0gbnVsbCAmJiBrZXlzLmluY2x1ZGVzKHByZXNzZWRLZXkpKSAmJiAhWydjdHJsJywgJ2NvbnRyb2wnLCAndW5rbm93bicsICdtZXRhJywgJ2FsdCcsICdzaGlmdCcsICdvcyddLmluY2x1ZGVzKGtleUNvZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICghaWdub3JlTW9kaWZpZXJzKSB7XG4gICAgLy8gV2UgY2hlY2sgdGhlIHByZXNzZWQga2V5cyBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBrZXl1cCBldmVudC4gSW4ga2V5dXAgZXZlbnRzIHRoZSBtb2RpZmllciBmbGFncyBhcmUgbm90IHNldC5cbiAgICBpZiAoYWx0ID09PSAhYWx0S2V5ICYmIHByZXNzZWRLZXkgIT09ICdhbHQnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChzaGlmdCA9PT0gIXNoaWZ0S2V5ICYmIHByZXNzZWRLZXkgIT09ICdzaGlmdCcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gTW9kIGlzIGEgc3BlY2lhbCBrZXkgbmFtZSB0aGF0IGlzIGNoZWNraW5nIGZvciBtZXRhIG9uIG1hY09TIGFuZCBjdHJsIG9uIG90aGVyIHBsYXRmb3Jtc1xuICAgIGlmIChtb2QpIHtcbiAgICAgIGlmICghbWV0YUtleSAmJiAhY3RybEtleSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChtZXRhID09PSAhbWV0YUtleSAmJiBwcmVzc2VkS2V5ICE9PSAnbWV0YScgJiYgcHJlc3NlZEtleSAhPT0gJ29zJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoY3RybCA9PT0gIWN0cmxLZXkgJiYgcHJlc3NlZEtleSAhPT0gJ2N0cmwnICYmIHByZXNzZWRLZXkgIT09ICdjb250cm9sJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIEFsbCBtb2RpZmllcnMgYXJlIGNvcnJlY3QsIG5vdyBjaGVjayB0aGUga2V5XG4gIC8vIElmIHRoZSBrZXkgaXMgc2V0LCB3ZSBjaGVjayBmb3IgdGhlIGtleVxuICBpZiAoa2V5cyAmJiBrZXlzLmxlbmd0aCA9PT0gMSAmJiAoa2V5cy5pbmNsdWRlcyhwcmVzc2VkS2V5KSB8fCBrZXlzLmluY2x1ZGVzKGtleUNvZGUpKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGtleXMpIHtcbiAgICAvLyBDaGVjayBpZiBhbGwga2V5cyBhcmUgcHJlc2VudCBpbiBwcmVzc2VkRG93bktleXMgc2V0XG4gICAgcmV0dXJuIGlzSG90a2V5UHJlc3NlZChrZXlzKTtcbiAgfSBlbHNlIGlmICgha2V5cykge1xuICAgIC8vIElmIHRoZSBrZXkgaXMgbm90IHNldCwgd2Ugb25seSBsaXN0ZW4gZm9yIG1vZGlmaWVycywgdGhhdCBjaGVjayB3ZW50IGFscmlnaHQsIHNvIHdlIHJldHVybiB0cnVlXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLy8gVGhlcmUgaXMgbm90aGluZyB0aGF0IG1hdGNoZXMuXG4gIHJldHVybiBmYWxzZTtcbn07XG5cbnZhciBCb3VuZEhvdGtleXNQcm94eVByb3ZpZGVyID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbnZhciB1c2VCb3VuZEhvdGtleXNQcm94eSA9IGZ1bmN0aW9uIHVzZUJvdW5kSG90a2V5c1Byb3h5KCkge1xuICByZXR1cm4gdXNlQ29udGV4dChCb3VuZEhvdGtleXNQcm94eVByb3ZpZGVyKTtcbn07XG5mdW5jdGlvbiBCb3VuZEhvdGtleXNQcm94eVByb3ZpZGVyUHJvdmlkZXIoX3JlZikge1xuICB2YXIgYWRkSG90a2V5ID0gX3JlZi5hZGRIb3RrZXksXG4gICAgcmVtb3ZlSG90a2V5ID0gX3JlZi5yZW1vdmVIb3RrZXksXG4gICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICByZXR1cm4gLyojX19QVVJFX18qL2pzeChCb3VuZEhvdGtleXNQcm94eVByb3ZpZGVyLlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHtcbiAgICAgIGFkZEhvdGtleTogYWRkSG90a2V5LFxuICAgICAgcmVtb3ZlSG90a2V5OiByZW1vdmVIb3RrZXlcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICB9KTtcbn1cblxuZnVuY3Rpb24gZGVlcEVxdWFsKHgsIHkpIHtcbiAgLy9AdHMtaWdub3JlXG4gIHJldHVybiB4ICYmIHkgJiYgdHlwZW9mIHggPT09ICdvYmplY3QnICYmIHR5cGVvZiB5ID09PSAnb2JqZWN0JyA/IE9iamVjdC5rZXlzKHgpLmxlbmd0aCA9PT0gT2JqZWN0LmtleXMoeSkubGVuZ3RoICYmXG4gIC8vQHRzLWlnbm9yZVxuICBPYmplY3Qua2V5cyh4KS5yZWR1Y2UoZnVuY3Rpb24gKGlzRXF1YWwsIGtleSkge1xuICAgIHJldHVybiBpc0VxdWFsICYmIGRlZXBFcXVhbCh4W2tleV0sIHlba2V5XSk7XG4gIH0sIHRydWUpIDogeCA9PT0geTtcbn1cblxudmFyIEhvdGtleXNDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQoe1xuICBob3RrZXlzOiBbXSxcbiAgZW5hYmxlZFNjb3BlczogW10sXG4gIHRvZ2dsZVNjb3BlOiBmdW5jdGlvbiB0b2dnbGVTY29wZSgpIHt9LFxuICBlbmFibGVTY29wZTogZnVuY3Rpb24gZW5hYmxlU2NvcGUoKSB7fSxcbiAgZGlzYWJsZVNjb3BlOiBmdW5jdGlvbiBkaXNhYmxlU2NvcGUoKSB7fVxufSk7XG52YXIgdXNlSG90a2V5c0NvbnRleHQgPSBmdW5jdGlvbiB1c2VIb3RrZXlzQ29udGV4dCgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoSG90a2V5c0NvbnRleHQpO1xufTtcbnZhciBIb3RrZXlzUHJvdmlkZXIgPSBmdW5jdGlvbiBIb3RrZXlzUHJvdmlkZXIoX3JlZikge1xuICB2YXIgX3JlZiRpbml0aWFsbHlBY3RpdmVTID0gX3JlZi5pbml0aWFsbHlBY3RpdmVTY29wZXMsXG4gICAgaW5pdGlhbGx5QWN0aXZlU2NvcGVzID0gX3JlZiRpbml0aWFsbHlBY3RpdmVTID09PSB2b2lkIDAgPyBbJyonXSA6IF9yZWYkaW5pdGlhbGx5QWN0aXZlUyxcbiAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgoaW5pdGlhbGx5QWN0aXZlU2NvcGVzID09IG51bGwgPyB2b2lkIDAgOiBpbml0aWFsbHlBY3RpdmVTY29wZXMubGVuZ3RoKSA+IDAgPyBpbml0aWFsbHlBY3RpdmVTY29wZXMgOiBbJyonXSksXG4gICAgaW50ZXJuYWxBY3RpdmVTY29wZXMgPSBfdXNlU3RhdGVbMF0sXG4gICAgc2V0SW50ZXJuYWxBY3RpdmVTY29wZXMgPSBfdXNlU3RhdGVbMV07XG4gIHZhciBfdXNlU3RhdGUyID0gdXNlU3RhdGUoW10pLFxuICAgIGJvdW5kSG90a2V5cyA9IF91c2VTdGF0ZTJbMF0sXG4gICAgc2V0Qm91bmRIb3RrZXlzID0gX3VzZVN0YXRlMlsxXTtcbiAgdmFyIGVuYWJsZVNjb3BlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHNjb3BlKSB7XG4gICAgc2V0SW50ZXJuYWxBY3RpdmVTY29wZXMoZnVuY3Rpb24gKHByZXYpIHtcbiAgICAgIGlmIChwcmV2LmluY2x1ZGVzKCcqJykpIHtcbiAgICAgICAgcmV0dXJuIFtzY29wZV07XG4gICAgICB9XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KFtdLmNvbmNhdChwcmV2LCBbc2NvcGVdKSkpO1xuICAgIH0pO1xuICB9LCBbXSk7XG4gIHZhciBkaXNhYmxlU2NvcGUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc2NvcGUpIHtcbiAgICBzZXRJbnRlcm5hbEFjdGl2ZVNjb3BlcyhmdW5jdGlvbiAocHJldikge1xuICAgICAgaWYgKHByZXYuZmlsdGVyKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgIHJldHVybiBzICE9PSBzY29wZTtcbiAgICAgIH0pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gWycqJ107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcHJldi5maWx0ZXIoZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICByZXR1cm4gcyAhPT0gc2NvcGU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG4gIHZhciB0b2dnbGVTY29wZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChzY29wZSkge1xuICAgIHNldEludGVybmFsQWN0aXZlU2NvcGVzKGZ1bmN0aW9uIChwcmV2KSB7XG4gICAgICBpZiAocHJldi5pbmNsdWRlcyhzY29wZSkpIHtcbiAgICAgICAgaWYgKHByZXYuZmlsdGVyKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgcmV0dXJuIHMgIT09IHNjb3BlO1xuICAgICAgICB9KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gWycqJ107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHByZXYuZmlsdGVyKGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICByZXR1cm4gcyAhPT0gc2NvcGU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcmV2LmluY2x1ZGVzKCcqJykpIHtcbiAgICAgICAgICByZXR1cm4gW3Njb3BlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KFtdLmNvbmNhdChwcmV2LCBbc2NvcGVdKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG4gIHZhciBhZGRCb3VuZEhvdGtleSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChob3RrZXkpIHtcbiAgICBzZXRCb3VuZEhvdGtleXMoZnVuY3Rpb24gKHByZXYpIHtcbiAgICAgIHJldHVybiBbXS5jb25jYXQocHJldiwgW2hvdGtleV0pO1xuICAgIH0pO1xuICB9LCBbXSk7XG4gIHZhciByZW1vdmVCb3VuZEhvdGtleSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChob3RrZXkpIHtcbiAgICBzZXRCb3VuZEhvdGtleXMoZnVuY3Rpb24gKHByZXYpIHtcbiAgICAgIHJldHVybiBwcmV2LmZpbHRlcihmdW5jdGlvbiAoaCkge1xuICAgICAgICByZXR1cm4gIWRlZXBFcXVhbChoLCBob3RrZXkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9qc3goSG90a2V5c0NvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZToge1xuICAgICAgZW5hYmxlZFNjb3BlczogaW50ZXJuYWxBY3RpdmVTY29wZXMsXG4gICAgICBob3RrZXlzOiBib3VuZEhvdGtleXMsXG4gICAgICBlbmFibGVTY29wZTogZW5hYmxlU2NvcGUsXG4gICAgICBkaXNhYmxlU2NvcGU6IGRpc2FibGVTY29wZSxcbiAgICAgIHRvZ2dsZVNjb3BlOiB0b2dnbGVTY29wZVxuICAgIH0sXG4gICAgY2hpbGRyZW46IC8qI19fUFVSRV9fKi9qc3goQm91bmRIb3RrZXlzUHJveHlQcm92aWRlclByb3ZpZGVyLCB7XG4gICAgICBhZGRIb3RrZXk6IGFkZEJvdW5kSG90a2V5LFxuICAgICAgcmVtb3ZlSG90a2V5OiByZW1vdmVCb3VuZEhvdGtleSxcbiAgICAgIGNoaWxkcmVuOiBjaGlsZHJlblxuICAgIH0pXG4gIH0pO1xufTtcblxuZnVuY3Rpb24gdXNlRGVlcEVxdWFsTWVtbyh2YWx1ZSkge1xuICB2YXIgcmVmID0gdXNlUmVmKHVuZGVmaW5lZCk7XG4gIGlmICghZGVlcEVxdWFsKHJlZi5jdXJyZW50LCB2YWx1ZSkpIHtcbiAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICB9XG4gIHJldHVybiByZWYuY3VycmVudDtcbn1cblxudmFyIHN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uIHN0b3BQcm9wYWdhdGlvbihlKSB7XG4gIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbn07XG52YXIgdXNlU2FmZUxheW91dEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0O1xuZnVuY3Rpb24gdXNlSG90a2V5cyhrZXlzLCBjYWxsYmFjaywgb3B0aW9ucywgZGVwZW5kZW5jaWVzKSB7XG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShudWxsKSxcbiAgICByZWYgPSBfdXNlU3RhdGVbMF0sXG4gICAgc2V0UmVmID0gX3VzZVN0YXRlWzFdO1xuICB2YXIgaGFzVHJpZ2dlcmVkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgdmFyIF9vcHRpb25zID0gIShvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpID8gb3B0aW9ucyA6ICEoZGVwZW5kZW5jaWVzIGluc3RhbmNlb2YgQXJyYXkpID8gZGVwZW5kZW5jaWVzIDogdW5kZWZpbmVkO1xuICB2YXIgX2tleXMgPSBpc1JlYWRvbmx5QXJyYXkoa2V5cykgPyBrZXlzLmpvaW4oX29wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IF9vcHRpb25zLnNwbGl0S2V5KSA6IGtleXM7XG4gIHZhciBfZGVwcyA9IG9wdGlvbnMgaW5zdGFuY2VvZiBBcnJheSA/IG9wdGlvbnMgOiBkZXBlbmRlbmNpZXMgaW5zdGFuY2VvZiBBcnJheSA/IGRlcGVuZGVuY2llcyA6IHVuZGVmaW5lZDtcbiAgdmFyIG1lbW9pc2VkQ0IgPSB1c2VDYWxsYmFjayhjYWxsYmFjaywgX2RlcHMgIT0gbnVsbCA/IF9kZXBzIDogW10pO1xuICB2YXIgY2JSZWYgPSB1c2VSZWYobWVtb2lzZWRDQik7XG4gIGlmIChfZGVwcykge1xuICAgIGNiUmVmLmN1cnJlbnQgPSBtZW1vaXNlZENCO1xuICB9IGVsc2Uge1xuICAgIGNiUmVmLmN1cnJlbnQgPSBjYWxsYmFjaztcbiAgfVxuICB2YXIgbWVtb2lzZWRPcHRpb25zID0gdXNlRGVlcEVxdWFsTWVtbyhfb3B0aW9ucyk7XG4gIHZhciBfdXNlSG90a2V5c0NvbnRleHQgPSB1c2VIb3RrZXlzQ29udGV4dCgpLFxuICAgIGVuYWJsZWRTY29wZXMgPSBfdXNlSG90a2V5c0NvbnRleHQuZW5hYmxlZFNjb3BlcztcbiAgdmFyIHByb3h5ID0gdXNlQm91bmRIb3RrZXlzUHJveHkoKTtcbiAgdXNlU2FmZUxheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKChtZW1vaXNlZE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lbW9pc2VkT3B0aW9ucy5lbmFibGVkKSA9PT0gZmFsc2UgfHwgIWlzU2NvcGVBY3RpdmUoZW5hYmxlZFNjb3BlcywgbWVtb2lzZWRPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBtZW1vaXNlZE9wdGlvbnMuc2NvcGVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiBsaXN0ZW5lcihlLCBpc0tleVVwKSB7XG4gICAgICB2YXIgX2UkdGFyZ2V0O1xuICAgICAgaWYgKGlzS2V5VXAgPT09IHZvaWQgMCkge1xuICAgICAgICBpc0tleVVwID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNLZXlib2FyZEV2ZW50VHJpZ2dlcmVkQnlJbnB1dChlKSAmJiAhaXNIb3RrZXlFbmFibGVkT25UYWcoZSwgbWVtb2lzZWRPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBtZW1vaXNlZE9wdGlvbnMuZW5hYmxlT25Gb3JtVGFncykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gVE9ETzogU0lOQ0UgVEhFIEVWRU5UIElTIE5PVyBBVFRBQ0hFRCBUTyBUSEUgUkVGLCBUSEUgQUNUSVZFIEVMRU1FTlQgQ0FOIE5FVkVSIEJFIElOU0lERSBUSEUgUkVGLiBUSEUgSE9US0VZIE9OTFkgVFJJR0dFUlMgSUYgVEhFXG4gICAgICAvLyBSRUYgSVMgVEhFIEFDVElWRSBFTEVNRU5ULiBUSElTIElTIEEgUFJPQkxFTSBTSU5DRSBGT0NVU0VEIFNVQiBDT01QT05FTlRTIFdPTidUIFRSSUdHRVIgVEhFIEhPVEtFWS5cbiAgICAgIGlmIChyZWYgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIHJvb3ROb2RlID0gcmVmLmdldFJvb3ROb2RlKCk7XG4gICAgICAgIGlmICgocm9vdE5vZGUgaW5zdGFuY2VvZiBEb2N1bWVudCB8fCByb290Tm9kZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QpICYmIHJvb3ROb2RlLmFjdGl2ZUVsZW1lbnQgIT09IHJlZiAmJiAhcmVmLmNvbnRhaW5zKHJvb3ROb2RlLmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgc3RvcFByb3BhZ2F0aW9uKGUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKChfZSR0YXJnZXQgPSBlLnRhcmdldCkgIT0gbnVsbCAmJiBfZSR0YXJnZXQuaXNDb250ZW50RWRpdGFibGUgJiYgIShtZW1vaXNlZE9wdGlvbnMgIT0gbnVsbCAmJiBtZW1vaXNlZE9wdGlvbnMuZW5hYmxlT25Db250ZW50RWRpdGFibGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcnNlS2V5c0hvb2tJbnB1dChfa2V5cywgbWVtb2lzZWRPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBtZW1vaXNlZE9wdGlvbnMuc3BsaXRLZXkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgX2hvdGtleSRrZXlzO1xuICAgICAgICB2YXIgaG90a2V5ID0gcGFyc2VIb3RrZXkoa2V5LCBtZW1vaXNlZE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lbW9pc2VkT3B0aW9ucy5jb21iaW5hdGlvbktleSk7XG4gICAgICAgIGlmIChpc0hvdGtleU1hdGNoaW5nS2V5Ym9hcmRFdmVudChlLCBob3RrZXksIG1lbW9pc2VkT3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogbWVtb2lzZWRPcHRpb25zLmlnbm9yZU1vZGlmaWVycykgfHwgKF9ob3RrZXkka2V5cyA9IGhvdGtleS5rZXlzKSAhPSBudWxsICYmIF9ob3RrZXkka2V5cy5pbmNsdWRlcygnKicpKSB7XG4gICAgICAgICAgaWYgKG1lbW9pc2VkT3B0aW9ucyAhPSBudWxsICYmIG1lbW9pc2VkT3B0aW9ucy5pZ25vcmVFdmVudFdoZW4gIT0gbnVsbCAmJiBtZW1vaXNlZE9wdGlvbnMuaWdub3JlRXZlbnRXaGVuKGUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0tleVVwICYmIGhhc1RyaWdnZXJlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIG1heWJlUHJldmVudERlZmF1bHQoZSwgaG90a2V5LCBtZW1vaXNlZE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lbW9pc2VkT3B0aW9ucy5wcmV2ZW50RGVmYXVsdCk7XG4gICAgICAgICAgaWYgKCFpc0hvdGtleUVuYWJsZWQoZSwgaG90a2V5LCBtZW1vaXNlZE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lbW9pc2VkT3B0aW9ucy5lbmFibGVkKSkge1xuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uKGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBFeGVjdXRlIHRoZSB1c2VyIGNhbGxiYWNrIGZvciB0aGF0IGhvdGtleVxuICAgICAgICAgIGNiUmVmLmN1cnJlbnQoZSwgaG90a2V5KTtcbiAgICAgICAgICBpZiAoIWlzS2V5VXApIHtcbiAgICAgICAgICAgIGhhc1RyaWdnZXJlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGhhbmRsZUtleURvd24gPSBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQua2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gU3ludGhldGljIGV2ZW50IChlLmcuLCBDaHJvbWUgYXV0b2ZpbGwpLiAgSWdub3JlLlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwdXNoVG9DdXJyZW50bHlQcmVzc2VkS2V5cyhtYXBLZXkoZXZlbnQuY29kZSkpO1xuICAgICAgaWYgKChtZW1vaXNlZE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lbW9pc2VkT3B0aW9ucy5rZXlkb3duKSA9PT0gdW5kZWZpbmVkICYmIChtZW1vaXNlZE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lbW9pc2VkT3B0aW9ucy5rZXl1cCkgIT09IHRydWUgfHwgbWVtb2lzZWRPcHRpb25zICE9IG51bGwgJiYgbWVtb2lzZWRPcHRpb25zLmtleWRvd24pIHtcbiAgICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGhhbmRsZUtleVVwID0gZnVuY3Rpb24gaGFuZGxlS2V5VXAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5rZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBTeW50aGV0aWMgZXZlbnQgKGUuZy4sIENocm9tZSBhdXRvZmlsbCkuICBJZ25vcmUuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJlbW92ZUZyb21DdXJyZW50bHlQcmVzc2VkS2V5cyhtYXBLZXkoZXZlbnQuY29kZSkpO1xuICAgICAgaGFzVHJpZ2dlcmVkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIGlmIChtZW1vaXNlZE9wdGlvbnMgIT0gbnVsbCAmJiBtZW1vaXNlZE9wdGlvbnMua2V5dXApIHtcbiAgICAgICAgbGlzdGVuZXIoZXZlbnQsIHRydWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRvbU5vZGUgPSByZWYgfHwgKF9vcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBfb3B0aW9ucy5kb2N1bWVudCkgfHwgZG9jdW1lbnQ7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGRvbU5vZGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBoYW5kbGVLZXlVcCk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGRvbU5vZGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgIGlmIChwcm94eSkge1xuICAgICAgcGFyc2VLZXlzSG9va0lucHV0KF9rZXlzLCBtZW1vaXNlZE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lbW9pc2VkT3B0aW9ucy5zcGxpdEtleSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBwcm94eS5hZGRIb3RrZXkocGFyc2VIb3RrZXkoa2V5LCBtZW1vaXNlZE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lbW9pc2VkT3B0aW9ucy5jb21iaW5hdGlvbktleSwgbWVtb2lzZWRPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBtZW1vaXNlZE9wdGlvbnMuZGVzY3JpcHRpb24pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgZG9tTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIGhhbmRsZUtleVVwKTtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGRvbU5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgaWYgKHByb3h5KSB7XG4gICAgICAgIHBhcnNlS2V5c0hvb2tJbnB1dChfa2V5cywgbWVtb2lzZWRPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBtZW1vaXNlZE9wdGlvbnMuc3BsaXRLZXkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHJldHVybiBwcm94eS5yZW1vdmVIb3RrZXkocGFyc2VIb3RrZXkoa2V5LCBtZW1vaXNlZE9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lbW9pc2VkT3B0aW9ucy5jb21iaW5hdGlvbktleSwgbWVtb2lzZWRPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBtZW1vaXNlZE9wdGlvbnMuZGVzY3JpcHRpb24pKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3JlZiwgX2tleXMsIG1lbW9pc2VkT3B0aW9ucywgZW5hYmxlZFNjb3Blc10pO1xuICByZXR1cm4gc2V0UmVmO1xufVxuXG5mdW5jdGlvbiB1c2VSZWNvcmRIb3RrZXlzKCkge1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUobmV3IFNldCgpKSxcbiAgICBrZXlzID0gX3VzZVN0YXRlWzBdLFxuICAgIHNldEtleXMgPSBfdXNlU3RhdGVbMV07XG4gIHZhciBfdXNlU3RhdGUyID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgIGlzUmVjb3JkaW5nID0gX3VzZVN0YXRlMlswXSxcbiAgICBzZXRJc1JlY29yZGluZyA9IF91c2VTdGF0ZTJbMV07XG4gIHZhciBoYW5kbGVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBTeW50aGV0aWMgZXZlbnQgKGUuZy4sIENocm9tZSBhdXRvZmlsbCkuICBJZ25vcmUuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgc2V0S2V5cyhmdW5jdGlvbiAocHJldikge1xuICAgICAgdmFyIG5ld0tleXMgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgbmV3S2V5cy5hZGQobWFwS2V5KGV2ZW50LmNvZGUpKTtcbiAgICAgIHJldHVybiBuZXdLZXlzO1xuICAgIH0pO1xuICB9LCBbXSk7XG4gIHZhciBzdG9wID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlcik7XG4gICAgICBzZXRJc1JlY29yZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbaGFuZGxlcl0pO1xuICB2YXIgc3RhcnQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgc2V0S2V5cyhuZXcgU2V0KCkpO1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBzdG9wKCk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlcik7XG4gICAgICBzZXRJc1JlY29yZGluZyh0cnVlKTtcbiAgICB9XG4gIH0sIFtoYW5kbGVyLCBzdG9wXSk7XG4gIHZhciByZXNldEtleXMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgc2V0S2V5cyhuZXcgU2V0KCkpO1xuICB9LCBbXSk7XG4gIHJldHVybiBba2V5cywge1xuICAgIHN0YXJ0OiBzdGFydCxcbiAgICBzdG9wOiBzdG9wLFxuICAgIHJlc2V0S2V5czogcmVzZXRLZXlzLFxuICAgIGlzUmVjb3JkaW5nOiBpc1JlY29yZGluZ1xuICB9XTtcbn1cblxuZXhwb3J0IHsgSG90a2V5c1Byb3ZpZGVyLCBpc0hvdGtleVByZXNzZWQsIHVzZUhvdGtleXMsIHVzZUhvdGtleXNDb250ZXh0LCB1c2VSZWNvcmRIb3RrZXlzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1ob3RrZXlzLWhvb2suZXNtLmpzLm1hcFxuIl0sIm5hbWVzIjpbInVzZUNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInVzZUxheW91dEVmZmVjdCIsInVzZUVmZmVjdCIsImpzeCIsIl9leHRlbmRzIiwiT2JqZWN0IiwiYXNzaWduIiwiYmluZCIsIm4iLCJlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidCIsInIiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsInJlc2VydmVkTW9kaWZpZXJLZXl3b3JkcyIsIm1hcHBlZEtleXMiLCJlc2MiLCJTaGlmdExlZnQiLCJTaGlmdFJpZ2h0IiwiQWx0TGVmdCIsIkFsdFJpZ2h0IiwiTWV0YUxlZnQiLCJNZXRhUmlnaHQiLCJPU0xlZnQiLCJPU1JpZ2h0IiwiQ29udHJvbExlZnQiLCJDb250cm9sUmlnaHQiLCJtYXBLZXkiLCJrZXkiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiaXNIb3RrZXlNb2RpZmllciIsImluY2x1ZGVzIiwicGFyc2VLZXlzSG9va0lucHV0Iiwia2V5cyIsInNwbGl0S2V5Iiwic3BsaXQiLCJwYXJzZUhvdGtleSIsImhvdGtleSIsImNvbWJpbmF0aW9uS2V5IiwiZGVzY3JpcHRpb24iLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsIm1hcCIsImsiLCJtb2RpZmllcnMiLCJhbHQiLCJjdHJsIiwic2hpZnQiLCJtZXRhIiwibW9kIiwic2luZ2xlQ2hhcktleXMiLCJmaWx0ZXIiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1bmRlZmluZWQiLCJwdXNoVG9DdXJyZW50bHlQcmVzc2VkS2V5cyIsImNvZGUiLCJyZW1vdmVGcm9tQ3VycmVudGx5UHJlc3NlZEtleXMiLCJ3aW5kb3ciLCJjdXJyZW50bHlQcmVzc2VkS2V5cyIsImNsZWFyIiwiU2V0IiwiaXNSZWFkb25seUFycmF5IiwidmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJpc0hvdGtleVByZXNzZWQiLCJob3RrZXlBcnJheSIsImV2ZXJ5IiwiaGFzIiwiZm9yRWFjaCIsImFkZCIsIm1heWJlUHJldmVudERlZmF1bHQiLCJwcmV2ZW50RGVmYXVsdCIsImlzSG90a2V5RW5hYmxlZCIsImVuYWJsZWQiLCJpc0tleWJvYXJkRXZlbnRUcmlnZ2VyZWRCeUlucHV0IiwiZXYiLCJpc0hvdGtleUVuYWJsZWRPblRhZyIsImV2ZW50IiwiZW5hYmxlZE9uVGFncyIsInRhcmdldCIsImNvbXBvc2VkIiwidGFyZ2V0VGFnTmFtZSIsImlzQ3VzdG9tRWxlbWVudCIsImNvbXBvc2VkUGF0aCIsInRhZ05hbWUiLCJCb29sZWFuIiwic29tZSIsInRhZyIsIl90YXJnZXRUYWdOYW1lIiwiZWxlbWVudCIsInN0YXJ0c1dpdGgiLCJpc1Njb3BlQWN0aXZlIiwiYWN0aXZlU2NvcGVzIiwic2NvcGVzIiwiY29uc29sZSIsIndhcm4iLCJzY29wZSIsImlzSG90a2V5TWF0Y2hpbmdLZXlib2FyZEV2ZW50IiwiaWdub3JlTW9kaWZpZXJzIiwicHJlc3NlZEtleVVwcGVyY2FzZSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hpZnRLZXkiLCJhbHRLZXkiLCJrZXlDb2RlIiwicHJlc3NlZEtleSIsIkJvdW5kSG90a2V5c1Byb3h5UHJvdmlkZXIiLCJ1c2VCb3VuZEhvdGtleXNQcm94eSIsIkJvdW5kSG90a2V5c1Byb3h5UHJvdmlkZXJQcm92aWRlciIsIl9yZWYiLCJhZGRIb3RrZXkiLCJyZW1vdmVIb3RrZXkiLCJjaGlsZHJlbiIsIlByb3ZpZGVyIiwiZGVlcEVxdWFsIiwieCIsInkiLCJyZWR1Y2UiLCJpc0VxdWFsIiwiSG90a2V5c0NvbnRleHQiLCJob3RrZXlzIiwiZW5hYmxlZFNjb3BlcyIsInRvZ2dsZVNjb3BlIiwiZW5hYmxlU2NvcGUiLCJkaXNhYmxlU2NvcGUiLCJ1c2VIb3RrZXlzQ29udGV4dCIsIkhvdGtleXNQcm92aWRlciIsIl9yZWYkaW5pdGlhbGx5QWN0aXZlUyIsImluaXRpYWxseUFjdGl2ZVNjb3BlcyIsIl91c2VTdGF0ZSIsImludGVybmFsQWN0aXZlU2NvcGVzIiwic2V0SW50ZXJuYWxBY3RpdmVTY29wZXMiLCJfdXNlU3RhdGUyIiwiYm91bmRIb3RrZXlzIiwic2V0Qm91bmRIb3RrZXlzIiwicHJldiIsImZyb20iLCJjb25jYXQiLCJzIiwiYWRkQm91bmRIb3RrZXkiLCJyZW1vdmVCb3VuZEhvdGtleSIsImgiLCJ1c2VEZWVwRXF1YWxNZW1vIiwicmVmIiwiY3VycmVudCIsInN0b3BQcm9wYWdhdGlvbiIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInVzZVNhZmVMYXlvdXRFZmZlY3QiLCJ1c2VIb3RrZXlzIiwiY2FsbGJhY2siLCJvcHRpb25zIiwiZGVwZW5kZW5jaWVzIiwic2V0UmVmIiwiaGFzVHJpZ2dlcmVkUmVmIiwiX29wdGlvbnMiLCJfa2V5cyIsImpvaW4iLCJfZGVwcyIsIm1lbW9pc2VkQ0IiLCJjYlJlZiIsIm1lbW9pc2VkT3B0aW9ucyIsIl91c2VIb3RrZXlzQ29udGV4dCIsInByb3h5IiwibGlzdGVuZXIiLCJpc0tleVVwIiwiX2UkdGFyZ2V0IiwiZW5hYmxlT25Gb3JtVGFncyIsInJvb3ROb2RlIiwiZ2V0Um9vdE5vZGUiLCJEb2N1bWVudCIsIlNoYWRvd1Jvb3QiLCJhY3RpdmVFbGVtZW50IiwiY29udGFpbnMiLCJpc0NvbnRlbnRFZGl0YWJsZSIsImVuYWJsZU9uQ29udGVudEVkaXRhYmxlIiwiX2hvdGtleSRrZXlzIiwiaWdub3JlRXZlbnRXaGVuIiwiaGFuZGxlS2V5RG93biIsImtleWRvd24iLCJrZXl1cCIsImhhbmRsZUtleVVwIiwiZG9tTm9kZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1c2VSZWNvcmRIb3RrZXlzIiwic2V0S2V5cyIsImlzUmVjb3JkaW5nIiwic2V0SXNSZWNvcmRpbmciLCJoYW5kbGVyIiwibmV3S2V5cyIsInN0b3AiLCJzdGFydCIsInJlc2V0S2V5cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-hotkeys-hook/dist/react-hotkeys-hook.esm.js\n");

/***/ })

};
;